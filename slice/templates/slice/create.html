{% extends "site_base.html" %}

{% block body %}
<div class="row">
	<form action="." method="POST">{% csrf_token %}
	    <table cellpadding="0" cellspacing="0" border="1">
			<tbody>
				{%if error_info %}
					<tr>
						<td align="center" colspan="2">
							{% if slice_obj %}
								Slice编辑失败！{{error_info}}
							{%else%}
								Slice创建失败！{{error_info}}
							{%endif%}
						</td>
					</tr>
				{%endif%}
				<tr>
					<td width="100" align="right" bgcolor="#dbeffa" ><span class="point">*</span>Slice名称</td>
					<td><input type="text" maxlength = 256 name="name" style="width:50%"/>
					</td>
				</tr>
				<tr>
					<td bgcolor="#dbeffa" align="right">描述信息</td>
					<td>
					<textarea name="description" cols="45" rows="6" maxlength = 1024  style="width:95%;resize:none;"></textarea>
					</td>
				</tr>
				<tr>
					<td bgcolor="#dbeffa" align="right">节点</td>
					<td>
						{%if islands%}
							<select id="island" name="island_id" onchange="island_change()">
								{%for island in islands%}
									<option value="{{ island.id }}">{{island.name}}</option>
								{%endfor%}   
						    </select>
					    {%else%}
					    *无可选资源！无法创建slice！
					    {%endif%}
					</td>
				</tr>
				<tr>
					<td bgcolor="#dbeffa" align="right">控制器</td>
					<td>
						<p><input type="radio" name="controller_type" value="default_create" checked="checked"/>默认创建</p>
						<p><input type="radio" name="controller_type" value="user_defined" />自定义
						ip:<input type="text" maxlength = 40 name="controller_ip"/>
						port:<input type="text" maxlength = 10 name="controller_port"/></p>
					</td>
				</tr>
				<tr>
					<td bgcolor="#dbeffa" align="right">交换机端口</td>
					<td>
						{%for ovs_port in ovs_ports%}
							<p>
								<input type="checkbox" name="ovs_ids" value="{{ovs_port.ovs.id}}"/>{{ovs_port.ovs.hostname}}
								{%for port in ovs_port.ports%}
									<input type="checkbox" name="ovs{{ovs_port.ovs.id}}ports" value="{{port}}"/>{{port}}
								{%endfor%}
							</p>
						{%endfor%}
					</td>
				</tr>
				<tr>
					<td></td>
					<td>
						<input class="buttons" type="submit" value="提交"/>     
					</td>
				</tr>
			</tbody>
		</table>
	</form>
</div>
{% endblock %}