{% extends extent_html %}

{% load i18n %}
{% load url from future %}
{% load staticfiles %}
{% load endless %}
{% load project_tags %}

{% block head_title %}SLICE列表{% endblock %}
{% block breadcrumb %}
    {%if extent_html == "site_base.html" %}
        <a href="/project/detail/{{ project.id }}/">项目详情</a><span class="divider">/</span>  
        Slice列表
    {%else%}
        {%if project%}
        <a href="/project/">项目</a><span class="divider">/</span>
        <a href="/project/detail/{{ project.id }}/">项目详情</a><span class="divider">/</span>
        {%endif%}
        虚网
    {%endif%}
{% endblock %}

{% block body %}
{% paginate 4 slices %}
    <div class="search">
        <form class="form-search">
          <div class="input-append">
              <input type="text" value="{{ query }}" name="query" value="" class="span2 search-query">
              <button type="submit" class="btn">搜索</button>
          </div>
        </form>
    </div>
    <div class="fill_form">
        <fieldset>
             
                {%if extent_html == "site_base.html" %}
                <div class="well">
                    <h3 class="list_title">虚网（Slice）</h3>
                    <p class="list_lead">虚网是CCF中用于提供研究人员进行实验的最小独立容器，虚网由实验所需要的计算和网络资源组成。</p>
                </div>
                {%else%}
                <legend>虚网（Slice）</legend>
                    <div class="row-fluid countschart">
                        <div class="span2 counts">
                            <div class="counts_block">
                                <p><img src="{% static "img/file-01.png" %}"  /></p>
                                <p class="counts_block_title">新增虚网</p>
                                <p class="counts_block_nums">256</p>
                            </div>
                            <div class="counts_block">
                                <p><img src="{% static "img/file-02.png" %}"  /></p>
                                <p class="counts_block_title">全部虚网</p>
                                <p class="counts_block_nums">1256</p>
                            </div>                                                 
                        </div>                        
                        <div class="span10">
                            <div id="container" style="min-width: 400px; height: 282px; margin: 0 auto"></div>
                        </div>
                        <div class="clear"></div>      
                    </div>
                {%endif%}
             {% if not slices %}
                {%if query %}
                <p class="alert alert-info">抱歉，没有找到任何相关的结果</p>
                {%else%}
                <p class="alert alert-info">当前没有SLICE</p>
                {%endif%}
             {% endif %}
             <div class="row-fluid">
             {%if slices %}
             {% for group in slices|group_by:2 %}
             <ul class="thumbnails example-sites">
		         {% for slice in group %}
		              {% include "slice/_slice.html" %}
		         {% endfor %}
		     </ul>
		     {% endfor %}
		     {%endif%}
		     </div>
         </fieldset>
    </div>
    <div class="pagination">
        <ul>
            {% show_pages %}
        </ul>
    </div>
{% endblock %}
{% block extra_script %}
<script src="{{ STATIC_URL}}js/jquery.knob.js"></script>
<script src="{{ STATIC_URL}}js/slice_list.js"></script>
<script src="{{ STATIC_URL}}js/own.js"></script>
{% endblock %}
