{% extends "site_base.html" %}
{% load bootstrap_tags %}
{% load i18n %}
{% load crispy_forms_tags %}
{% load staticfiles %}
{% block breadcrumb %}
    <li><a href="/project/">项目</a></li>
	<li><a href="/project/detail/{{ slice_obj.project.id }}/">项目详情</a></li>
	<li><a href="/slice/detail/{{ slice_obj.id }}/">虚网详情</a></li>
    <li class="active">接入自有设备</li>
{% endblock %}
{% block body %}
<!--警告框-->
<div id="portalertModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
<div class="modal-dialog">
<div class="modal-content">    
<div class="modal-body" id="port_alert_info">
      <p class="text-center"></p>
    </div> 
    <div class="modal-footer">
      <button class="btn delete-confirm btn_info" data-dismiss="modal">确定</button>
    </div>          
</div>
</div>
</div>

<!-- 拓扑图 -->
<div class="alert alert-info">
      <strong>提示：</strong>
      点击拓扑上节点，可显示详细信息。
</div>
<div class="device_access clearfix">
    <div class="col-md-9">
        <iframe scrolling="no" id="topologyiframe" width="100%" height="400" src="/slice/topology_d3/?slice_id={{slice_obj.id}}&width=700&height=400&top=0&band=0&own_device=1" frameborder="0"></iframe>
    </div> 
    <div class="col-md-3">
        <div class="device_access_form form-inline">
            <h4 class="form-group"><strong><span id="_switch_port">ovs交换机</span></strong></h4>
            <div class="form-group switch_port">
                <label class="control-label" for="">可选端口</label>
                <select class="form-control " id="enable_switch_port">
                    
                 </select> 
                <span id="port_err_msg" style="color:red"></span>
            </div>                         
            <div class="form-group device_access_btn disable">
                 <label class="control-label" for="">是否独占</label>         
                 <div class="tuopu_btn dk">
                        <span class="switch_btn dk " style="cursor:pointer">
                            <span class="switch_content">否</span>
                        </span>
                 </div>             
            </div>
            <div class="form-group mac_addrs">
                <label class="control-label">MAC 地址列表：</label>
                <textarea id="mac_addrs" style="color:black" rows="3"></textarea>
            <span id="mac_err_msg" style="color:red"></span>
            </div>
            <p class="device_access_savebtn">
                <button type="button" class="btn btn-default">保存</button>
            </p>
        </div>
    </div> 
</div>

<h4 class="block_title show-dhcp">
            <img src="/site_media/static/img/ic_slice.png">端口列表
</h4>
<table class="table_defined" id="port_info_table">
    <thead>
        <tr>
            <th>交换机</th>
            <th>dpid</th>
            <th>所选端口</th>
            <th>是否独占</th>
            <th>MAC地址</th>
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
    </tbody>
</table>

<form class="form-horizontal" action="" method="post" accept-charset="utf-8">
                
         <div class="form-actions">
            <div class="row buttons_margin">
                <div class="col-md-4"></div>
                        <div class="col-md-2"><button type="button" class="btn btn-lg btn-block btn_info" onclick="document.location='{% url slice_detail slice_obj.id %}'">{% trans "Cancel" %}</button></div>
                <div class="col-md-2"><button type="button" class="btn btn-lg btn-block btn_info" onclick="commit_ports({{slice_obj.id}})">{% trans "Submit" %}</button></div>
                <div class="col-md-4"></div>
            </div>
        </div>
    
</form>
{% endblock %}
{% block extra_script %}
<script src="{{ STATIC_URL}}js/icheck/jquery.icheck.min.js"></script>
<script src="{{ STATIC_URL}}js/taffy.js"></script>
<script src="{{ STATIC_URL}}js/own.js"></script>
<script>
	var STATIC_URL = "{{ STATIC_URL}}";
    var sliceid = "{{slice_obj.id }}";
</script>
<script src="{{ STATIC_URL}}js/flat_slider.js"></script>
<script src="{{ STATIC_URL}}js/own_device.js"></script>
<script src="{{ STATIC_URL}}js/own_device_common.js"></script>


{% endblock %}
